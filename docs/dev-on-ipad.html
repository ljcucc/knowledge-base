<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <meta name="description" content="Development on iPad">

  <meta property="og:site_name" content="wwwiki - ljcu.cc">
  <meta property="og:title" content="Development on iPad" />
  <meta property="og:description" content="" />
  <meta property="og:image" itemprop="image" content="./assets/default-header.png">
  <meta property="og:type" content="website" />

  <title>Development on iPad</title>
  <link rel="stylesheet" href="style.css">

  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
</head>
<body>
  <div class="toc">
      </div>

  <div class="body">
    <div class="topbar">
      <a class="title" href="index.html">wwwiki - ljcu.cc</a>
    </div>
  
    <div class="content">
            <img class="header-img" src="assets/default-header.png" alt="default header" />
      <h1 class="title">Development on iPad</h1>
        
  
      <p>In this wiki, I’ll showing 2 methods to doing dev on iPad.
      mostly locally, because if dev remotely isn’t the definition of
      “dev on iPad”.</p>
      <p>iPad is a device of in Apple Ecosystem, and with that native
      power, iPad can be the most powerful tools. but since Apple trying
      to software-lock the functionality of iPad (there’s conspiracy
      says that Apple trying to cut the function of iPad in-order for
      the sells of mac), we can said that “Life finds a way”, and so
      dose developers. In this docs, I trying to collecting and trying
      any possiable methods to dev on iPad.</p>
      <blockquote>
      <p>And also, this guide may works on iPhone. depending on apps
      compatibility and interfaces.</p>
      </blockquote>
      <p>In general cases, you may need few apps:</p>
      <ul>
      <li>iSH - The core that let you dev on iPad, it’s linux emulate
      environment that let you install package, operating system of
      alpine linux.</li>
      <li>Blink Shell - A awesome hyper terminal let you do terminal
      stuff out of the box.</li>
      <li>A VNC Viewer: you may need a VNC Viewer / Client to operate
      virtual (headless) monitor</li>
      </ul>
      <p>IN specific cases, you may need different tools:</p>
      <ul>
      <li>Code Sandbox: Develop node.js apps and React Native Apps.</li>
      <li>Swift Playground: Develop Swift only application on iPad (and
      pay for the “Developer” license in-order to share your app to
      friends or run it on your iPhone).</li>
      </ul>
      <h1 id="terminal-stuff">Terminal stuff</h1>
      <p>Frist, let introduce some terminal basic stuff to working on
      wonderful things.</p>
      <p>in this section, you need two apps:</p>
      <ul>
      <li>iSH</li>
      <li>Blink Shell</li>
      </ul>
      <blockquote>
      <p>Blink shell is a open source hyper terminal, but because of the
      app store app licensing fee, Blink Shell have ads that remind you
      to giving developer loves by subscribing Blink+ plan for $600 NT a
      year. And the ad will popup for max 3 times a day, if you think
      this is annoying, you can try to compile yourself. I’ll write step
      and references at the docs of the bottom.</p>
      </blockquote>
      <p>the best feature of Blink Shell is it having some awesome
      features:</p>
      <ul>
      <li>multi-monitor support (without multi-monitor or external
      monitor support, looking at the 11-inch small screen all day can
      be painful and harmful to your eyes)</li>
      <li>Powerline fonts</li>
      <li>VSCode support (in iSH Shell case might not works, since iSH
      dosen’t support scp and sftp).</li>
      <li>facecam: (A floating camera widget allows you to doing
      tutorial with your face expression)</li>
      <li>And more…</li>
      </ul>
      <p>and beware, iSH will have some limitation (since 2022):</p>
      <ul>
      <li>SFTP, SCP server will not works (issue #955)</li>
      <li>GPU access (your GUI app can only run in frameBuffer)</li>
      <li>only 32 bits program</li>
      <li>No systemd</li>
      <li>No mounting folders or hard-drive.</li>
      </ul>
      <p>in some basic cases, you can using terminal that iSH provide.
      but with some advence feature, iSH may not support. So you need
      Blink Shell:</p>
      <h1 id="blink-shell-ish-shell">Blink Shell + iSH Shell</h1>
      <p>Blink Shell dose not have a proper shell or environment, said
      by the Carlos from Blink Shell: “Apple saids Your next computer is
      not a computer, cause your next computer will be a lot of
      computer.” it’ll be a lot of computer connects to each other .it’s
      the concept of Blink Shell, instead of let things works on your
      iPad. they’re focusing on how to work on iPad. You’ll definitely
      loves how Blink Shell’s team did.</p>
      <p>To using iSH Shell’s environment on Blink Shell, you need to
      setup SSH server in order to SSH from Blink Shell to iSH Shell.
      here’s some command to do that:</p>
      <div class="sourceCode" id="cb1"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">apk</span> update</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="ex">apk</span> add openssh</span></code></pre></div>
      <p>and proprely setup <code>/etc/ssh/sshd_config</code>, like:
      <code>Port 22000</code> or somthing. then setup Hosts by entering
      <code>config</code> on Blink Shell. for example <code>local</code>
      for alias, <code>localhost</code> for HostName, and setup key…</p>
      <p>then <code>ssh [alias-name]</code>, you can use iSH shell from
      Blink Shell.</p>
      <h2 id="vscode-on-blink-shell">VSCode on Blink Shell</h2>
      <blockquote>
      <p>because iSH Shell dosen’t suuport SCP and SFTP (refs: issue
      #955 ), so VSCode will not working with iSH shell, instead you can
      use tmux + vim or some weird emacs.</p>
      </blockquote>
      <p>so in this cases, you may need to prepare a remote server, or a
      local protable server like Raspberry pi (since iPad should be
      protable).</p>
      <p>setup raspberry pi headlessly properly (you can reference from
      this guide: <a href="https://github.com/ljcucc/rpi_guide"
      class="uri">https://github.com/ljcucc/rpi_guide</a>), and setup
      password-less (SSH key) login, then you can SSH to your raspberry
      pi with VSCode by using command:</p>
      <div class="sourceCode" id="cb2"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># After you setup Hosts in `config`</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="ex">code</span> [host-alias]:[path]</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># for example</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="ex">code</span> rpi:/home/ljcucc/dwm</span></code></pre></div>
      <h1 id="ish-shell-vnc">iSH Shell + VNC</h1>
      <p>iSH is a Linux-like shell on iOS and iPadOS</p>
      <h2 id="install-dwm-and-vnc">Install DWM and VNC</h2>
      <blockquote>
      <p>Reference from the offical wiki: <a
      href="https://github.com/ish-app/ish/wiki/Running-a-VNC-Server"
      class="uri">https://github.com/ish-app/ish/wiki/Running-a-VNC-Server</a></p>
      </blockquote>
      <p>install dependencies:</p>
      <div class="sourceCode" id="cb3"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">apk</span> add x11vnc x11vnc-doc xvfb xterm xorg-server xf86-video-dummy </span></code></pre></div>
      <p>tools and dependencies for compiling DWM:</p>
      <div class="sourceCode" id="cb4"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">apk</span> add gcc make libx11-dev libxft-dev </span></code></pre></div>
      <p>clone dwm:</p>
      <div class="sourceCode" id="cb5"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://git.suckless.org/dwm</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> dwm</span></code></pre></div>
      <blockquote>
      <p>ref from the issue <a
      href="https://github.com/ish-app/ish/issues/1640">1640</a>, if you
      stuck on resolving while you clone, try stop it and run
      <code>git config --global pack.threads "1"</code> then try to
      clone again.</p>
      </blockquote>
      <p>Disable xinerama in <code>config.mk</code> since dwm will only
      run in a virtual headless monitor of VNC.</p>
      <p>then compile it:</p>
      <pre><code>make install</code></pre>
      <blockquote>
      <p>compile may takes some times, on iPad Air 4 takes about less
      than 1 min.</p>
      </blockquote>
      <p>then setup scripts and configs for vnc server:</p>
      <div class="sourceCode" id="cb7"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="bu">[</span> <span class="ot">!</span> <span class="ot">-e</span> /etc/X11/xorg.conf.d <span class="bu">]</span><span class="kw">;</span> <span class="cf">then</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mkdir</span> <span class="at">-p</span> /etc/X11/xorg.conf.d <span class="co"># If it doesn&#39;t exist, create it.</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="cf">fi</span></span></code></pre></div>
      <p>headless xorg monitor config:</p>
      <pre><code>cat &lt;&lt;HERE &gt; /etc/X11/xorg.conf.d/10-headless.conf
Section &quot;Monitor&quot;
        Identifier &quot;dummy_monitor&quot;
        HorizSync 28.0-80.0
        VertRefresh 48.0-75.0
        DisplaySize  250 174    # In millimeters, iPad gen 7 &amp; 8
EndSection

Section &quot;Device&quot;
        Identifier &quot;dummy_card&quot;
        VideoRam 256000
        Driver &quot;dummy&quot;
EndSection

Section &quot;Screen&quot;
        Identifier &quot;dummy_screen&quot;
        Device &quot;dummy_card&quot;
        Monitor &quot;dummy_monitor&quot;
        SubSection &quot;Display&quot;
           depth 24
           Modes &quot;1024x768&quot;  # Works OK on ~10 inch iPad&#39;s
 #          Modes &quot;1280x1024&quot;  # Likely to work on larger iPad
        EndSubSection
EndSection
HERE</code></pre>
      <p>create xinitrc:</p>
      <div class="sourceCode" id="cb9"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> <span class="op">&lt;&lt;THERE</span> <span class="op">&gt;</span> /root/.xinitrc</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="st">exec dwm</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="op">THERE</span></span></code></pre></div>
      <p>then create a script to start vnc server:</p>
      <div class="sourceCode" id="cb10"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/ash</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Stupidly simple script to start vnc.  </span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="va">CHECK</span><span class="op">=</span><span class="kw">`</span><span class="fu">ps</span> <span class="at">-o</span> args <span class="kw">|</span> <span class="fu">grep</span> <span class="st">&quot;{startx} /bin/sh /usr/bin/startx&quot;</span> <span class="kw">|</span> <span class="fu">wc</span> <span class="at">-l</span><span class="kw">`</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Only run once.  The grep causes CHECK to equal 1</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="bu">[</span> <span class="va">$CHECK</span> <span class="ot">-eq</span> 1 <span class="bu">]</span><span class="kw">;</span> <span class="cf">then</span> <span class="co"># Nothing running, clear stale locks</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>   <span class="fu">rm</span> <span class="at">-rf</span> /tmp/.X<span class="pp">*</span> </span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>   <span class="bu">echo</span> <span class="st">&quot;</span><span class="va">$0</span><span class="st"> is already running.  We&#39;re done here.&quot;</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>   <span class="bu">exit</span> 1</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="cf">fi</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="co"># See if location services are running already.  </span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Having them running reduces the odds of iSH getting</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="co"># killed while in the background.</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a><span class="va">CHECK</span><span class="op">=</span><span class="kw">`</span><span class="fu">ps</span> <span class="at">-o</span> args <span class="kw">|</span> <span class="fu">grep</span> <span class="st">&quot;cat /dev/location&quot;</span> <span class="kw">|</span> <span class="fu">wc</span> <span class="at">-l</span><span class="kw">`</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Only run once.  The grep causes CHECK to equal 1</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="bu">[</span> <span class="va">$CHECK</span> <span class="ot">-eq</span> 1 <span class="bu">]</span><span class="kw">;</span> <span class="cf">then</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>   <span class="fu">cat</span> /dev/location <span class="op">&gt;</span> /dev/null <span class="kw">&amp;</span></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a><span class="cf">fi</span></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a><span class="ex">startx</span> <span class="kw">&amp;</span></span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a><span class="ex">x11vnc</span> <span class="at">-display</span> :0 <span class="at">-noshm</span> <span class="at">-forever</span> <span class="kw">&amp;</span> </span></code></pre></div>
      <h3 id="specif">Specif</h3>
      <h3 id="install-st-terminal">Install st terminal</h3>
      <p>clone st repo</p>
      <div class="sourceCode" id="cb11"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://git.suckless.org/st</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> st</span></code></pre></div>
      <p>compile</p>
      <div class="sourceCode" id="cb12"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span> install</span></code></pre></div>
      <h1 id="build-blink-shell-from-source">Build Blink Shell from
      source</h1>
      <p>To getting no annoying ads during development (or even
      presentation), you may have to copmile whole app yourself to
      licensing.</p>
      <p>this will be a note for building from source since there’s a
      lot of content that offcial already provided mroe clearly.</p>
      <p>first, since 2022 (IDK what will happens after this docs
      created) v15 of Blink Shell is not stable version on Github (But
      offcial provide stable v15 app on app store and IDK why and
      how).</p>
      <p>then you may need to checkout to branch <code>blink-14</code>.
      then follow the guide then you’ll be fine.</p>
      <blockquote>
      <p>while you setup developer_setup.xcconfig, you may need the
      Develoepr ID of your Apple ID,visit apple’s CloudKit website:
      icloud.developer.apple.com (type it yourself, I dont want to get
      into troble) and get it at the top of right with digits and upcase
      alphas.</p>
      </blockquote>
      <p>And beware you can’t build ipa then sideloads to AltStore since
      not having a paid Developer account.</p>
      <blockquote>
      <p>and finally <strong>Remember to refresh app license once a
      week, Free developer license can only stands for 7 days since you
      didn’t paid any money to Apple, which Apple NEED IT
      BADLY.</strong></p>
      </blockquote>
    </div>
  </div>
    <!-- image display dialog -->
  <dialog modal-mode="mega">
    <img id="disp-img" src="" alt="">
    <form method="dialog">
      <button class="menu-button" value="cancel">
        <i class="material-icons">close</i>
      </button>
    </form>
  </dialog>
  
</body>
<script>
  window.addEventListener("load", e=>{
    document.querySelectorAll("img").forEach(item => item.addEventListener("click", e => {
      console.log();
      let dialog = document.querySelector("dialog");
      document.querySelector("#disp-img").setAttribute("src", e.srcElement.getAttribute("src"));
      dialog.showModal();
    }));
  });
</script>

</html>